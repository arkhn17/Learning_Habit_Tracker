# Learning Habit Tracker 画面遷移図

---

## 1. ドキュメント概要
本ドキュメントは、Learning Habit Tracker の **ページ間操作フロー・画面遷移** をまとめた内部仕様書です。  
各ページの詳細や UI・操作内容は **UI構想.md** を参照してください。

---

## 2. 画面遷移図
LearningHabitTracker_遷移図（ページごと）

### 0. 新規登録／ログインページ
 ├─ログインフォーム  
 │    ├─ログイン成功 → 1.トップページ  
 │    └─ログイン失敗 → 0.ログインページ（エラー表示）  
 ├─新規登録フォーム  
 │    ├─登録成功 → ログイン操作  
 │    │       ├─ログイン成功 → 1.トップページ  
 │    │       └─ログイン失敗 → 0.ログインページ（エラー表示）  
 │    └─登録失敗 → 0.新規登録フォーム（エラー表示）  
 └─「パスワードを忘れた場合」リンク  
      └─パスワード再設定フォーム  
           ├─再設定成功 → ログイン操作  
           │       ├─ログイン成功 → 1.トップページ  
           │       └─ログイン失敗 → 0.ログインページ（エラー表示）  
           └─再設定失敗 → パスワード再設定フォーム（エラー表示）  

### 1. トップページ
 ├─「学習を記録」ボタン  
 │    └─新規登録モーダル  
 │          ├─保存成功 → トップページに反映  
 │          └─保存失敗 → モーダルでエラー表示  
 ├─「振り返り」ボタン  
 │    └─２．カレンダーページ  
 ├─「目標を確認」ボタン  
 │    └─３．目標設定ページ  
 └─ハンバーガーメニュー  
       ├─トップ → １．トップページ  
       ├─記録（カレンダー） → ２．カレンダー／振り返りページ  
       ├─目標 → ３．目標設定ページ  
       └─設定 → ４．設定ページ  

### 2. カレンダー／振り返りページ
 ├─ 月間カレンダー表示  
 │     └─日付セルタップ  
 │           └─ 記録リストエリア（下部）を展開  
 │                 ├─各記録カード（複数可）  
 │                 │     └─タップ →  編集モーダル   
 │                 │                             ├─保存成功 → 記録リストエリアへ反映  
 │                 │                             ├─削除成功 → 記録リストエリアへ反映  
 │                 │                             └─保存失敗 → モーダルでエラー表示  
 │                 └─月合計学習時間の表示  
 ├─ 右下「＋」ボタン → 新規登録モーダル  
 │     ├─保存成功 → 記録リストエリアへ反映  
 │     └─保存失敗 → モーダルでエラー表示  
 └─ ハンバーガーメニュー  
       ├─トップ → １．トップページ  
       ├─記録（カレンダー） → ２．カレンダー／振り返りページ  
       ├─目標 → ３．目標設定ページ  
       └─設定 → ４．設定ページ  

### 3. 目標設定ページ
 ├─ 目標リスト一覧（複数可）  
 │     └─各目標カード（タイトル＋進捗バー）  
 │           └─タップ → 編集モーダル  
 │                 ├─保存成功 → 目標リストに反映・モーダル閉じる  
 │                 ├─削除成功 → 目標リストに反映・モーダル閉じる  
 │                 └─保存／削除失敗 → モーダル内にエラー表示  
 │  
 ├─ 右下「＋」ボタン → 新規目標モーダル  
 │     ├─保存成功 → 目標リストに反映・モーダル閉じる  
 │     └─保存失敗 → モーダル内にエラー表示  
 │  
 ├─ 週／月切替タブ  
 │     └─リスト・進捗表示を切替  
 │  
 └─ ハンバーガーメニュー  
       ├─トップ → １．トップページ  
       ├─記録（カレンダー） → ２．カレンダー／振り返りページ  
       ├─目標 → ３．目標設定ページ  
       └─設定 → ４．設定ページ  

### 4. 設定ページ
 ├─ プロフィール編集（ユーザー名／メールアドレス／パスワード）  
 │     └─「編集」ボタン → プロフィール編集モーダル  
 │           ├─保存成功 → 設定ページに反映・モーダル閉じる  
 │           ├─保存失敗 → モーダル内にエラー表示  
 │           └─（パスワードの場合）確認メール送信 → 成功／失敗の結果を表示  
 │  
 ├─ 配色テーマの変更  
 │     └─テーマ選択タップ → 即反映（または保存ボタン）  
 │           ├─保存成功 → 設定ページに反映  
 │           └─保存失敗 → エラー表示  
 │  
 ├─ データ管理  
 │     ├─「データをエクスポート（CSV）」ボタン  
 │     │     └─エクスポート処理 → 成功（ダウンロード開始）／失敗（エラー表示）  
 │     │  
 │     └─「データの初期化」ボタン  
 │           └─確認ダイアログ  
 │                 ├─OK → 初期化実行 → 成功／失敗の表示  
 │                 └─キャンセル → 設定ページに戻る  
 │  
 ├─ その他  
 │     ├─「利用規約」 → 利用規約ページ  
 │     ├─「プライバシーポリシー」 → プライバシーポリシーページ  
 │     └─「ログアウト」  
 │                 ├─成功 → ０．ログインページへ  
 │                 └─失敗 → 設定ページに留まりエラー表示  
 │  
 └─ ハンバーガーメニュー  
       ├─トップ → １．トップページ  
       ├─記録（カレンダー） → ２．カレンダー／振り返りページ  
       ├─目標 → ３．目標設定ページ  
       └─設定 → ４．設定ページ  
